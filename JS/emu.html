<style>
body { font-family: Verdana, Arial, Helvetica, sans-serif; }
#emulatorface > * { box-sizing: content-box; border: 1px solid #e6dfe6; }
#screen { cursor: none; outline: none; border-bottom: 0; }
#controlbar {
  height: 2em;
  border-radius: 0 0 4px 4px;
  background-color: #f7f5f0;
  color: #807380;
}
#controlbar > *, #endcontrols > * { display: inline-block; }
#systemcontrol { line-height: 2em; }
#endcontrols { float: right; }
#ledbox { right; font-size: 0; }
.led {
  display: inline; padding: 2px 6px; cursor: default; 
  border:1px solid #e6dfe6; border-radius: 50%;
  font-size: small;
}
.led.lit {
  background-color: #BBFFBB;
}
#buttonbox { right; font-size: 0; }
.mousebtn.active { background-color: #807d73; }
.mousebtn.interclick { background-color: #ccb4cc; }
.mousebtn {
  width: 1em; height: 100%; background-color: #e6e4df; color:#FFF;
  border: 0px; border-left: 1px solid #e6dfe6; margin: 0; padding: 0;
  font-size: small;
  text-shadow:
    -1px 0 #000, 0 -1px #000, 1px 0 #000, 0 1px #000,
    -1px -1px #000, -1px 1px #000, 1px -1px #000, 1px 1px #000;
}
.menu {
  position: relative;
}
.menu button[type="menu"] {
  height: 100%;
  background-color: inherit; color: inherit;
  border: 0;
}
.menu button[type="menu"].bordered {
  border-left: 1px solid #e6dfe6; border-right: 1px solid #e6dfe6;
}
.menu .popup {
  visibility: hidden;
  position: absolute;
  z-index: 1;
  border: 1px solid #e6dfe6;
}
.menu .popup.open {
  visibility: visible;
  top: 100%;
  width: 100%;
}
.menu .popup.right {
  right: 0%;
}
.menuitem {
  display: block;
  height: 2em;
}
.menuitem > * {
  display: inline;
  margin: 0;
  height: 100%;
}
.menuitem > input[type="button"], button.menuitem {
  border: 0px; background-color: inherit; color: inherit;
}
</style>
<script src="risc.js"></script>
<script src="webdriver.js"></script>

<div id="emulatorface">
<canvas id="screen" tabindex="1000"><a id="localsaveanchor"></a></canvas>
<div id="controlbar">
  <div id="systemcontrol" class="menu">
    <button type="menu" onclick="emulator.togglePopup(this);">
      Project Oberon 2013
    </button>
    <div class="popup">
      <div class="menuitem">
        <input type="file" id="diskfileinput"
               onchange="emulator.importDiskImage();"
               style="display: none;" accept=".dsk">
        <input type="button" id="diskimportbutton" value="Load"
               onclick="emulator.diskFileInput.click()"
               title="Import disk image">
      </div>

      <button id="diskexportbutton" class="menuitem"
              onclick="emulator.exportDiskImage();"
              title="Export disk image">Save</button>

      <button id="breakbutton" class="menuitem"
              onclick="emulator.reset(false);">Break</button>

      <button id="resetbutton" class="menuitem"
              onclick="emulator.reset(true);">Reset</button>
    </div>
  </div>
  <div id="endcontrols">
    <div class="menu">
      <button type="menu" class="bordered"
              onclick="emulator.togglePopup(this);"
              title="Transfer data between the emulated system and your computer">Transfer</button>
      <div class="popup right">
        <div class="menuitem">
          <input type="text" id="linknameinput" placeholder="System.Tool"><!--
       --><input type="button" id="fileexportbutton" value="Copy"
                 onclick="emulator.exportFile()"
                 title="Copy file out of the emulated system">
        </div>

        <button id="clipboardToggle" class="menuitem"
                onclick="emulator.toggleClipboard();">Clipboard</button>

        <div class="menuitem">
          <input type="button" id="fileimportbutton" value="Import File"
                 onclick="emulator.linkFileInput.click();"
                 title="Transfer local file into the emulated system">
          <input type="file" id="linkfileinput" multiple
                 onchange="emulator.importFiles();"
                 style="display: none;">
        </div>
      </div>
    </div>
    <div id="ledbox">
      <div id="led7" class="led">7</div>
      <div id="led6" class="led">6</div>
      <div id="led5" class="led">5</div>
      <div id="led4" class="led">4</div>
      <div id="led3" class="led">3</div>
      <div id="led2" class="led">2</div>
      <div id="led1" class="led">1</div>
      <div id="led0" class="led">0</div>
    </div>
    <div id="buttonbox">
      <input type="button" data-button="1" value="L" class="mousebtn active">
      <input type="button" data-button="2" value="M" class="mousebtn">
      <input type="button" data-button="3" value="R" class="mousebtn">
    </div>
  </div>
</div>
<textarea id="clipboardText" style="width:1024;"></textarea>
</div>
